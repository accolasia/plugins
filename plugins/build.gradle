apply plugin: 'groovy'

repositories {
	mavenCentral()
}

dependencies {
	compile 'org.codehaus.groovy:groovy-all:1.8.6'
	compile 'joda-time:joda-time:2.3'

	testCompile 'junit:junit:4.8.1'
	testCompile 'org.reflections:reflections:0.9.9-RC1'
	testCompile 'org.slf4j:slf4j-api:1.7.5'
}

sourceSets {
	main {
		groovy {
			srcDir 'common/src'
		}
		resources {
			srcDir 'common/resources'
		}
	}

	test {
		groovy {
			srcDir 'common/test'
		}
	}
}

jar.baseName = 'ideaflow-common'


task prepareRuntimeLibs(type: Copy) {
	into "common/libs/runtime"
	from configurations.runtime
}

task prepareTestLibs(type: Copy) {
	into "common/libs/test"
	from configurations.testRuntime
}

task prepareLibs {
     dependsOn { [prepareRuntimeLibs, prepareTestLibs] }
}

